<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Disable SES lockdown if present (causes issues with crypto libraries) -->
    <script>
      if (typeof globalThis.harden !== 'undefined') {
        console.warn('SES detected - disabling lockdown for crypto compatibility');
        globalThis.harden = (x) => x;
        globalThis.lockdown = () => {};
      }
      // Evita FOUC: ocultar hasta que el documento esté listo
      document.documentElement.style.visibility = 'hidden';
      window.addEventListener('load', () => {
        document.documentElement.classList.add('loaded');
        document.documentElement.style.visibility = 'visible';
      });
    </script>

    <!-- Base favicon (data URI) para evitar 404 en /favicon.ico -->
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Crect width='64' height='64' rx='12' fill='%23000'/%3E%3Cpath d='M18 32l10 10 18-18' stroke='%23fff' stroke-width='6' fill='none' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E">

    <!-- Preconnect to critical origins for faster loading -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://uiyojopjbhooxrmamaiw.supabase.co">
    <link rel="dns-prefetch" href="https://ecosign.app">
    <!-- Load fonts asynchronously for better performance -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Inter:wght@400;500;600;700&display=swap" media="print" onload="this.media='all'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Inter:wght@400;500;600;700;800&display=swap"></noscript>
    
    <!-- SEO Meta Tags -->
    <title>Certificación y Firma Digital Privada | EcoSign</title>
    <meta name="title" content="Certificación y Firma Digital Privada | EcoSign">
    <meta name="description" content="Protegé tus documentos sin exponerlos. Firma en un paso, obtené prueba de autoría y blindaje legal con blockchain y timestamp RFC 3161.">
    <meta name="keywords" content="firma digital, certificación documentos, blockchain, timestamp, prueba de autoría, firma electrónica, privacidad documentos, hash SHA-256, RFC 3161">
    <meta name="author" content="EcoSign">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://ecosign.app/" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://ecosign.app/">
    <meta property="og:title" content="Certificación y Firma Digital Privada | EcoSign">
    <meta property="og:description" content="Protegé tus documentos sin exponerlos. Firma en un paso, obtené prueba de autoría y blindaje legal con blockchain y timestamp RFC 3161.">
    <meta property="og:image" content="https://ecosign.app/og-image.jpg">
    <meta property="og:image:alt" content="EcoSign - Certificación Digital con Privacidad Total">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://ecosign.app/">
    <meta property="twitter:title" content="Certificación y Firma Digital Privada | EcoSign">
    <meta property="twitter:description" content="Protegé tus documentos sin exponerlos. Firma en un paso, obtené prueba de autoría y blindaje legal con blockchain y timestamp RFC 3161.">
    <meta property="twitter:image" content="https://ecosign.app/twitter-image.jpg">
    
    <!-- Additional SEO tags -->
    <meta name="theme-color" content="#000000">
    <meta name="application-name" content="EcoSign">
    <link rel="manifest" href="/manifest.json">
    
    <!-- Schema.org structured data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "EcoSign",
      "description": "Certificación digital con privacidad total. Tu archivo nunca se expone, solo su hash. Prueba de autoría con timestamp legal y blockchain.",
      "url": "https://ecosign.app/",
      "applicationCategory": "BusinessApplication",
      "operatingSystem": "Web Browser",
      "offers": {
        "@type": "Offer",
        "availability": "https://schema.org/OnlineOnly",
        "price": "0",
        "priceCurrency": "USD"
      },
      "creator": {
        "@type": "Organization",
        "name": "EcoSign"
      }
    }
    </script>

    <!-- Security: Content-Security-Policy -->
    <meta http-equiv="Content-Security-Policy" content="
      default-src 'self';
      script-src 'self' 'unsafe-inline' https://challenges.cloudflare.com;
      style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
      font-src 'self' https://fonts.gstatic.com;
      img-src 'self' data: blob: https://images.unsplash.com;
      media-src 'self' https://uiyojopjbhooxrmamaiw.supabase.co blob:;
      connect-src 'self' https://uiyojopjbhooxrmamaiw.supabase.co wss://uiyojopjbhooxrmamaiw.supabase.co data: blob:;
      frame-src 'self' blob: https://uiyojopjbhooxrmamaiw.supabase.co;
      object-src 'self' blob:;
      base-uri 'self';
      form-action 'self';
      upgrade-insecure-requests;
    ">
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
