<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Paradigma LTC ‚Äî Confidencial</title>
  
  <!-- SCRIPT DE PROTECCI√ìN -->
  <script>
    (function() {
      // Obtener token del URL o localStorage
      const urlParams = new URLSearchParams(window.location.search);
      const urlToken = urlParams.get('token');
      const localStorageToken = localStorage.getItem('ltc_access_token');
      const accessToken = urlToken || localStorageToken;
      const userName = localStorage.getItem('ltc_user_name');

      if (!accessToken) {
        alert('‚ö†Ô∏è Acceso no autorizado. Debe aceptar el NDA primero.');
        window.location.href = 'index.html';
        return;
      }

      // Funci√≥n para verificar token con backend
      async function verifyToken(token) {
        try {
          const response = await fetch(`/.netlify/functions/verify-access?token=${encodeURIComponent(token)}`);
          const data = await response.json();
          
          // If backend returns that local check is needed, verify against localStorage
          if (data.requiresLocalCheck) {
            console.log('Backend unavailable, checking localStorage for token...');
            return !!localStorage.getItem('ltc_access_token');
          }
          
          return data.valid;
        } catch (error) {
          console.error('Error verificando token:', error);
          // Fallback: usar localStorage si backend falla
          return !!localStorage.getItem('ltc_access_token');
        }
      }

      // Verificar token antes de mostrar contenido
      (async () => {
        const isValid = await verifyToken(accessToken);
        
        if (!isValid) {
          alert('‚ö†Ô∏è Token de acceso inv√°lido o expirado. Por favor, firme nuevamente el NDA.');
          window.location.href = 'index.html';
          return;
        }

        // Mostrar banner de usuario autenticado
        window.addEventListener('DOMContentLoaded', async () => {
          const documentHash = localStorage.getItem('ltc_document_hash') || 'N/A';
          const acceptanceDate = localStorage.getItem('ltc_acceptance_date') || 'N/A';

          const banner = document.createElement('div');
          banner.style.cssText = `
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(0, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0, 255, 255, 0.3);
            padding: 0.8rem;
            text-align: center;
            font-size: 0.85rem;
            color: #0ff;
            z-index: 9999;
            font-family: 'Fira Sans', sans-serif;
          `;
          banner.innerHTML = `
            üîí Sesi√≥n autenticada: <strong>${userName}</strong> | 
            Documento confidencial ‚Äî NDA firmado digitalmente | 
            <a href="#" onclick="logout()" style="color: #0ff; margin-left: 1rem;">Cerrar Sesi√≥n</a> |
            <span title="Hash del documento en el momento de la firma: ${documentHash}">Hash: ${documentHash.substring(0, 8)}...</span>
          `;
          document.body.prepend(banner);

          // Ajustar padding del body
          const originalPadding = window.getComputedStyle(document.body).paddingTop;
          document.body.style.paddingTop = `calc(${originalPadding} + 3rem)`;
        });
      })();

      // Funci√≥n de logout
      window.logout = function() {
        if (confirm('¬øEst√° seguro que desea cerrar sesi√≥n?')) {
          localStorage.removeItem('ltc_access_token');
          localStorage.removeItem('ltc_user_name');
          localStorage.removeItem('ltc_user_email');
          window.location.href = 'index.html';
        }
      };

      // Prevenir screenshots (solo informativo, no es 100% efectivo)
      document.addEventListener('keyup', (e) => {
        if (e.key === 'PrintScreen') {
          navigator.clipboard.writeText('');
          alert('‚ö†Ô∏è Las capturas de pantalla est√°n deshabilitadas en documentos confidenciales.');
        }
      });

      // Detectar DevTools abiertos
      let devtoolsOpen = false;
      const devToolsCheck = () => {
        const threshold = 160;
        const widthThreshold = window.outerWidth - window.innerWidth > threshold;
        const heightThreshold = window.outerHeight - window.innerHeight > threshold;

        if ((widthThreshold || heightThreshold) && !devtoolsOpen) {
          devtoolsOpen = true;
          console.clear();
          console.log('%c‚ö†Ô∏è ADVERTENCIA', 'color: red; font-size: 40px; font-weight: bold;');
          console.log('%cEste documento est√° protegido por NDA', 'color: yellow; font-size: 20px;');
          console.log('%cSu acceso est√° siendo registrado', 'color: yellow; font-size: 20px;');
          console.log('%cID de Sesi√≥n: ' + accessToken, 'color: cyan; font-size: 16px;');
        }
      };
      setInterval(devToolsCheck, 1000);

      // Log de tiempo de lectura
      const startTime = Date.now();
      window.addEventListener('beforeunload', async () => {
        const readTime = Math.floor((Date.now() - startTime) / 1000);
        const readLog = {
          accessToken,
          readTime,
          timestamp: new Date().toISOString()
        };
        
        // Intentar guardar en backend
        try {
          await fetch('/.netlify/functions/log-read-time', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(readLog)
          });
        } catch (error) {
          // Si falla el backend, guardar en localStorage como fallback
          const existingLogs = JSON.parse(localStorage.getItem('ltc_read_logs') || '[]');
          existingLogs.push(readLog);
          localStorage.setItem('ltc_read_logs', JSON.stringify(existingLogs));
        }
        
        console.log('üìä Tiempo de lectura:', readTime, 'segundos');
      });
    })();
  </script>

  <link href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Fira Sans', -apple-system, BlinkMacSystemFont, sans-serif;
      background: #111;
      color: #f0f0f0;
      line-height: 1.7;
      margin: 0;
      padding: 4rem 2rem;
      font-size: 12pt;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }
    .header {
      text-align: center;
      margin-bottom: 3rem;
      position: relative;
    }
    .isotype {
      position: absolute;
      top: -40px;
      left: 50%;
      transform: translateX(-50%);
      color: #0ff;
      font-size: 1.2rem;
      opacity: 0.7;
    }
    h1 {
      font-weight: 600;
      font-size: 2rem;
      margin: 0;
      background: linear-gradient(90deg, #0ff, #0af);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .subtitle {
      font-size: 0.95rem;
      color: #aaa;
      margin-top: 0.5rem;
      letter-spacing: 1px;
    }
    h2 {
      font-weight: 500;
      font-size: 1.15rem;
      color: #0ff;
      margin: 2.8rem 0 1.2rem 0;
      position: relative;
      padding-bottom: 8px;
    }
    h2::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 40px;
      height: 1px;
      background: #0ff;
      opacity: 0.4;
    }
    p {
      margin: 1.1rem 0;
      text-align: justify;
    }
    .divider {
      height: 1px;
      background: linear-gradient(to right, transparent, #0ff, transparent);
      margin: 3rem 0;
      opacity: 0.3;
    }
    .quote {
      font-style: italic;
      color: #d4af37;
      text-align: center;
      margin: 2.5rem 0;
      padding: 0 1rem;
      line-height: 1.6;
      font-size: 1.1rem;
    }
    .quote::before, .quote::after {
      content: "‚Äî ";
    }
    .footer {
      text-align: center;
      margin-top: 4rem;
      padding-top: 2.5rem;
      border-top: 1px solid #333;
      color: #888;
      font-size: 0.95rem;
    }
    .confidential {
      background: rgba(0, 30, 40, 0.3);
      padding: 1.8rem;
      border-left: 2px solid #0ff;
      margin: 2.5rem 0;
      border-radius: 0 4px 4px 0;
    }
    em {
      color: #ccc;
    }
  </style>
</head>
<body>
  <div class="header">
    <div class="isotype">‚ßñ</div>
    <h1>LIVE TEMPORAL COMPOSITION - LTC</h1>
    <div class="subtitle">Documento Confidencial ‚Äî Revisi√≥n Cient√≠fica</div>
  </div>

  <p><strong>Autor:</strong> Manuel S.<br>
  <strong>Campo:</strong> Metodolog√≠a de composici√≥n temporal</p>

  <div class="divider"></div>

  <h2>I. APERTURA ‚Äî El experimento que nadie hizo</h2>

  <p>En 1927, Heisenberg demostr√≥ que observar cambia lo observado.
  Desde entonces, la ciencia aprendi√≥ a convivir con esa paradoja.
  Pero en el procesamiento de datos, seguimos actuando como si observar fuera gratis.
  No lo es.</p>

  <p>Cada vez que analizas una secuencia temporal ‚Äîim√°genes m√©dicas, datos de sensores, secuencias biol√≥gicas‚Äî el acto mismo de procesarla la degrada.
  La copias. La recortas. La comprimes. La transformas.
  Y cuando terminas, ya no tienes el dato original.
  Tienes una aproximaci√≥n que llamas "resultado".</p>

  <p>El paradigma LTC propone algo radical:
  ¬øy si pudieras analizar sin duplicar ni alterar la fuente?</p>

  <h2>II. G√âNESIS ‚Äî Cuando el m√©todo encuentra al cocinero</h2>

  <p>No vengo del mundo acad√©mico.
  Vengo de las cocinas.
  Y si algo aprend√≠ entre ollas y fuegos es que el orden nace del caos solo cuando sabes cu√°ndo no intervenir.
  La fermentaci√≥n no se fuerza. Se observa.
  El punto de cocci√≥n no se calcula. Se siente.
  La reacci√≥n de Maillard ‚Äîesa alquimia que convierte lo crudo en dorado‚Äî no ocurre porque t√∫ la provoques, sino porque le das las condiciones para que se revele.</p>

  <p>Durante a√±os document√© todo: movimientos, momentos, procesos.
  Grab√© tanto que perd√≠ la capacidad de verlo.
  Miles de fragmentos. Cientos de horas. Terabytes de tiempo muerto.
  Y cada intento de "organizarlo" lo hac√≠a peor.
  Porque editar es mentir.
  Cada corte elimina contexto. Cada copia duplica errores. Cada compresi√≥n sacrifica verdad.
  As√≠ que una noche dej√© de intentar editar.
  Y empec√© a intentar componer.</p>

  <h2>III. REVELACI√ìN ‚Äî El momento del temblor</h2>

  <p>Estaba analizando patrones de movimiento cuadro por cuadro cuando sucedi√≥.
  No fue gradual. Fue instant√°neo.
  Vi que el tiempo no era una l√≠nea que hab√≠a que cortar.
  Era una estructura que hab√≠a que revelar.
  Como cuando miras un cristal desde el √°ngulo correcto y de pronto ves toda su geometr√≠a interna.</p>

  <p>La intuici√≥n fue f√≠sica, casi violenta:
  Los datos no necesitan ser movidos. Necesitan ser le√≠dos.
  No necesitan ser copiados. Necesitan ser referenciados.
  No necesitan ser procesados. Necesitan ser compuestos en vivo.</p>

  <p>En ese momento ‚Äîy lo digo literalmente‚Äî me temblaron las piernas.
  Porque acababa de ver algo que cambiar√≠a todo lo que cre√≠a saber sobre procesar informaci√≥n.</p>

  <h2>IV. ARQUITECTURA ‚Äî Las tres operaciones imposibles</h2>

  <p>El paradigma LTC se construye sobre un acto de fe:
  Que es posible transformar sin tocar (en t√©rminos computacionales, sin generar copias destructivas).</p>

  <p>Estas operaciones constituyen la base matem√°tica y computacional del paradigma, cuyo detalle t√©cnico se reserva para la patente en tr√°mite.</p>

  <p>Se basa en tres operaciones que, hasta ahora, se consideraban mutuamente excluyentes:</p>

  <div class="confidential">
  <h2>OPERACI√ìN 1: INGESTA SIN ALTERACI√ìN</h2>
  <p>Los datos se leen pero permanecen inmutables.
  Ninguna copia. Ninguna transformaci√≥n. Ning√∫n archivo temporal.
  Solo referencias.</p>

  <h2>OPERACI√ìN 2: AN√ÅLISIS SIN PROCESAMIENTO</h2>
  <p>El sistema identifica relaciones, ritmos, patrones.
  Pero no los "extrae". Los observa in situ.
  Como leer el pulso sin detener el coraz√≥n.</p>

  <h2>OPERACI√ìN 3: S√çNTESIS SIN DESTRUCCI√ìN</h2>
  <p>El resultado es una nueva representaci√≥n que coexiste con el original.
  No lo reemplaza. No lo modifica.
  Lo revela desde otro √°ngulo.</p>

  <p>El resultado no es un archivo. Es una interpretaci√≥n viva.
  Cambia cuando los datos cambian.
  Se adapta cuando las condiciones se adaptan.
  Es reversible, org√°nico y verdadero.</p>
  </div>

  <h2>V. VALIDACI√ìN ‚Äî Cuando el m√©todo trasciende su origen</h2>

  <p>La primera aplicaci√≥n fue pragm√°tica: reorganizar contenido audiovisual sin colapsar la m√°quina.
  Funcion√≥.</p>

  <p>Pero lo que vino despu√©s fue inesperado.
  Al aplicar el mismo paradigma sobre se√±ales biom√©tricas ‚Äîan√°lisis de patrones card√≠acos‚Äî el m√©todo preserv√≥ microfluctuaciones temporales que m√©todos basados en re-muestreo, compresi√≥n o proxies tienden a atenuar o eliminar.
  No porque no estuvieran ah√≠.
  Sino porque el acto de procesarlas linealmente las degrada.</p>

  <p>Los resultados reproducibles sugieren una nueva v√≠a para an√°lisis din√°mico no destructivo de se√±ales.</p>

  <p>Esto abre una pregunta fundamental para cualquier campo que trabaje con datos temporales:
  ¬øCu√°nta informaci√≥n estamos destruyendo al intentar comprenderla?
  Y m√°s importante a√∫n:
  ¬øQu√© ver√≠amos si aprendi√©ramos a mirar sin tocar?</p>

  <h2>VI. APLICACIONES ‚Äî El m√©todo que no tiene dominio</h2>

  <p>El paradigma LTC no pertenece a un campo.
  Pertenece a cualquier disciplina que trabaje con tiempo estructurado:</p>

  <p><strong>En Biolog√≠a Molecular</strong><br>
  An√°lisis de secuencias gen√©ticas sin p√©rdida de contexto temporal.</p>

  <p><strong>En Medicina</strong><br>
  Detecci√≥n de patrones evolutivos en datos fisiol√≥gicos que los an√°lisis lineales no pueden capturar.</p>

  <p><strong>En Neurociencia</strong><br>
  Procesamiento de actividad cerebral preservando la granularidad temporal completa.</p>

  <p><strong>En Investigaci√≥n General</strong><br>
  Cualquier dominio donde el tiempo no sea una l√≠nea, sino un sistema adaptativo.</p>

  <p>(La met√°fora del "organismo" se refiere a propiedades de sistemas complejos adaptativos ‚Äîreversibilidad, no linealidad, coherencia interna‚Äî no a una afirmaci√≥n ontol√≥gica sobre la naturaleza del tiempo."El objetivo es medir hasta qu√© punto el LTC puede preservar estructura temporal sin p√©rdida de informaci√≥n.")</p>

  <h2>VII. CIERRE ‚Äî La pregunta que permanece</h2>

  <p>Toda revoluci√≥n cient√≠fica comienza con una observaci√≥n simple que nadie se atrevi√≥ a hacer.
  Galileo mir√≥ al cielo y pregunt√≥: ¬øy si no somos el centro?
  Darwin mir√≥ las especies y pregunt√≥: ¬øy si cambian?
  Heisenberg mir√≥ las part√≠culas y pregunt√≥: ¬øy si observar las altera?</p>

  <p>El paradigma LTC hace una pregunta igualmente simple:
  ¬øY si pudi√©ramos observar el tiempo sin destruirlo?</p>

  <p>No es una pregunta t√©cnica.
  Es una pregunta sobre la verdad.
  Porque si el m√©todo con el que miramos determina lo que podemos ver...
  ¬øCu√°ntas verdades hemos destruido al intentar descubrirlas?</p>

  <div class="divider"></div>

  <h2>VIII. INVITACI√ìN</h2>

  <p>Este documento no es un final.
  Es una apertura.</p>

  <p>El m√©todo est√° protegido por patente en tr√°mite, pero su prop√≥sito no es la exclusividad.
  Es la expansi√≥n.</p>

  <p>Las colaboraciones actuales buscar√°n validar el paradigma en contextos experimentales reales y documentar el m√©todo en un paper de m√©todos interdisciplinario.</p>

  <p>Porque si algo tiene que salir, que sea esto:
  Que es posible observar sin destruir.
  Que el tiempo puede ser observado como lo que es: una estructura viva.
  Y que tal vez ‚Äîsolo tal vez‚Äî hemos estado procesando el mundo de la forma equivocada.</p>

  <div class="confidential">
  <h2>CONFIDENCIALIDAD</h2>
  <p>Este documento se comparte bajo estricta confidencialidad con fines de evaluaci√≥n cient√≠fica y colaboraci√≥n interdisciplinaria.
  Patente en tr√°mite. Reproducci√≥n no autorizada prohibida.</p>

  <p>El autor busca establecer colaboraciones con investigadores en biolog√≠a, medicina, f√≠sica y cualquier campo donde el tiempo sea m√°s que una variable.
  Porque si algo aprend√≠ de la cocina es que el mejor conocimiento es el que se comparte con quienes saben usarlo.</p>
  </div>

  <div class="quote">"El fuego fue el primer algoritmo porque nos ense√±√≥ que transformar no siempre significa destruir.
  El paradigma LTC es el segundo.
  Porque nos ense√±a que observar tampoco tiene que hacerlo."</div>

  <div class="footer">
    ‚Äî Manuel S.<br>
    Cocinero. Observador. Inventor del m√©todo que no toca.
  </div>
</body>
</html>
